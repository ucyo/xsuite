#!/usr/bin/env python
# coding: utf-8
"""Helper method to identify operators without docstring and mapped ones."""

# from cdo import Cdo
# from . import cdocmd
# import re


# def _problemops():
#     """Identify operators without doctstrings or mapped to other docstrings."""
#     specials = list()
#     cdo = Cdo()
#     for op in cdo.operators:
#         try:
#             cdocmd.CMD(op).params
#         except:
#             specials.append(op)
#     r = "SYNOPSIS\\n\s+(?P<cmd>[\w*|<operator>]+)[\[|\,|\s]?"
#     mapping = dict()
#     emptydoc = dict()
#     for method in specials:
#         m = re.compile(r).search(getattr(cdo, method).__doc__)
#         if m:
#             mapping[method] = m.group('cmd')
#         else:
#             emptydoc[method] = None
#     mapping = {k: v for k, v in mapping.items() if v != '<operator>'}
#     return emptydoc, mapping


nodoc = {'readCdf': None,  # added manually
         'boxavg': None,
         'cdiread': None,
         'cdiwrite': None,
         'cloudlayer': None,
         'cmor': None,
         'complextorect': None,
         'conv_cmor_table': None,
         'daycount': None,
         'del29feb': None,
         'delday': None,
         'deltap': None,
         'deltap_fl': None,
         'divcoslat': None,
         'export_e5ml': None,
         'export_e5res': None,
         'fc2gp': None,
         'fc2sp': None,
         'fillmiss': None,
         'fillmiss2': None,
         'fldrms': None,
         'fourier': None,
         'fpressure': None,
         'gengrid': None,
         'gp2fc': None,
         'gridverify': None,
         'harmonic': None,
         'hourcount': None,
         'hpressure': None,
         'import_e5ml': None,
         'import_e5res': None,
         'import_obs': None,
         'imtocomplex': None,
         'interpolate': None,
         'intgrid': None,
         'intgridbil': None,
         'intgridcon': None,
         'intgridtraj': None,
         'intpoint': None,
         'isosurface': None,
         'meandiff2test': None,
         'moncount': None,
         'mrotuv': None,
         'mrotuvb': None,
         'mulcoslat': None,
         'ncopy': None,
         'pack': None,
         'pardup': None,
         'parmul': None,
         'pinfo': None,
         'pinfov': None,
         'pressure_fl': None,
         'pressure_hl': None,
         'read_cmor_table': None,
         'remapsum': None,
         'retocomplex': None,
         'seascount': None,
         'seloperator': None,
         'setrcaname': None,
         'sortcode': None,
         'sortlevel': None,
         'sortname': None,
         'sortparam': None,
         'sorttaxis': None,
         'sorttimestamp': None,
         'sortvar': None,
         'sp2fc': None,
         'specinfo': None,
         'spectrum': None,
         'tee': None,
         'thinout': None,
         'timcount': None,
         'timedt': None,
         'tinfo': None,
         'transxy': None,
         'tstepcount': None,
         'varquot2test': None,
         'verifygrid': None,
         'vertcum': None,
         'vertcumhl': None,
         'vertwind': None,
         'writegrid': None,
         'writerandom': None,
         'yearcount': None}

mapping = {'adipot': 'adisit',
           'adisit': 'adisit',
           'aexpr': 'expr',
           'aexprf': 'expr',
           'after': 'after',
           'afterburner': 'after',
           'ap2hl': 'ap2pl',
           'ap2hlx': 'ap2pl',
           'ap2pl': 'ap2pl',
           'ap2pl_lp': 'ap2pl',
           'ap2plx': 'ap2pl',
           'ap2plx_lp': 'ap2pl',
           'bandpass': 'bandpass',
           'chcode': 'chcode',
           'chlevel': 'chcode',
           'chlevelc': 'chcode',
           'chlevelv': 'chcode',
           'chltype': 'chcode',
           'chname': 'chcode',
           'chparam': 'chcode',
           'chtabnum': 'chcode',
           'chunit': 'chcode',
           'chvar': 'chcode',
           'collgrid': 'collgrid',
           'const': 'const',
           'coshill': 'const',
           'covar0': 'timcovar',
           'covar0r': 'fldcovar',
           'daypctl': 'daypctl',
           'detrend': 'detrend',
           'distgrid': 'distgrid',
           'dumpmap': 'gradsdes',
           'duplicate': 'duplicate',
           'eca_cdd': 'eca_cdd',
           'eca_cfd': 'eca_cfd',
           'eca_csu': 'eca_csu',
           'eca_cwd': 'eca_cwd',
           'eca_cwdi': 'eca_cwdi',
           'eca_cwfi': 'eca_cwfi',
           'eca_etr': 'eca_etr',
           'eca_fd': 'eca_fd',
           'eca_gsl': 'eca_gsl',
           'eca_hd': 'eca_hd',
           'eca_hwdi': 'eca_hwdi',
           'eca_hwfi': 'eca_hwfi',
           'eca_id': 'eca_id',
           'eca_pd': 'eca_pd',
           'eca_r10mm': 'eca_pd',
           'eca_r1mm': 'eca_rr1',
           'eca_r20mm': 'eca_pd',
           'eca_r75p': 'eca_r75p',
           'eca_r75ptot': 'eca_r75ptot',
           'eca_r90p': 'eca_r90p',
           'eca_r90ptot': 'eca_r90ptot',
           'eca_r95p': 'eca_r95p',
           'eca_r95ptot': 'eca_r95ptot',
           'eca_r99p': 'eca_r99p',
           'eca_r99ptot': 'eca_r99ptot',
           'eca_rr1': 'eca_rr1',
           'eca_rx1day': 'eca_rx1day',
           'eca_rx5day': 'eca_rx5day',
           'eca_sdii': 'eca_sdii',
           'eca_su': 'eca_su',
           'eca_tg10p': 'eca_tg10p',
           'eca_tg90p': 'eca_tg90p',
           'eca_tn10p': 'eca_tn10p',
           'eca_tn90p': 'eca_tn90p',
           'eca_tr': 'eca_tr',
           'eca_tx10p': 'eca_tx10p',
           'eca_tx90p': 'eca_tx90p',
           'enlarge': 'enlarge',
           'ensbrs': 'enscrps',
           'enscrps': 'enscrps',
           'eofcoeff': 'eofcoeff',
           'eofcoeff3d': 'eofcoeff',
           'expr': 'expr',
           'exprf': 'expr',
           'fdns': 'fdns',
           'fldcor': 'fldcor',
           'fldcovar': 'fldcovar',
           'for': 'const',
           'gather': 'collgrid',
           'gendis': 'remapdis',
           'genlevelbounds': 'setzaxis',
           'geopotheight': 'sealevelpressure',
           'gheight': 'sealevelpressure',
           'gradsdes': 'gradsdes',
           'graph': 'graph',
           'highpass': 'bandpass',
           'hourpctl': 'hourpctl',
           'hurr': 'hurr',
           'ifthenelse': 'ifthenelse',
           'import_amsr': 'import_amsr',
           'import_binary': 'import_binary',
           'import_cmsaf': 'import_cmsaf',
           'import_grads': 'import_binary',
           'input': 'input',
           'inputext': 'input',
           'inputsrv': 'input',
           'intlevel': 'intlevel',
           'intlevelx': 'intlevel',
           'intntime': 'inttime',
           'inttime': 'inttime',
           'intyear': 'intyear',
           'invertlat': 'invertlat',
           'invertlatdata': 'invertlat',
           'invertlatdes': 'invertlat',
           'invertlev': 'invertlev',
           'invertlon': 'invertlat',
           'invertlondata': 'invertlat',
           'invertlondes': 'invertlat',
           'lowpass': 'bandpass',
           'mask': 'const',
           'maskindexbox': 'masklonlatbox',
           'masklonlatbox': 'masklonlatbox',
           'maskregion': 'maskregion',
           'mastrfu': 'mastrfu',
           'mergegrid': 'mergegrid',
           'ml2hl': 'ml2pl',
           'ml2hl_lp': 'ml2pl',
           'ml2hlx': 'ml2pl',
           'ml2hlx_lp': 'ml2pl',
           'ml2pl': 'ml2pl',
           'ml2pl_lp': 'ml2pl',
           'ml2plx': 'ml2pl',
           'ml2plx_lp': 'ml2pl',
           'monpctl': 'monpctl',
           'output': 'output',
           'outputarr': 'output',
           'outputext': 'output',
           'outputf': 'output',
           'outputfld': 'output',
           'outputint': 'output',
           'outputkey': 'outputtab',
           'outputsrv': 'output',
           'outputtab': 'outputtab',
           'outputts': 'output',
           'outputxyz': 'output',
           'random': 'const',
           'reducegrid': 'reducegrid',
           'regres': 'regres',
           'remap': 'remap',
           'remapdis': 'remapdis',
           'remapeta': 'remapeta',
           'remapeta_s': 'remapeta',
           'remapeta_z': 'remapeta',
           'replace': 'replace',
           'rhopot': 'rhopot',
           'rotuvb': 'rotuvb',
           'runpctl': 'runpctl',
           'scatter': 'distgrid',
           'sealevelpressure': 'sealevelpressure',
           'seaspctl': 'seaspctl',
           'seldate': 'seltimestep',
           'selday': 'seltimestep',
           'selhour': 'seltimestep',
           'selindexbox': 'sellonlatbox',
           'sellonlatbox': 'sellonlatbox',
           'selmon': 'seltimestep',
           'selmonth': 'seltimestep',
           'selseas': 'seltimestep',
           'selseason': 'seltimestep',
           'selsmon': 'seltimestep',
           'seltime': 'seltimestep',
           'seltimestep': 'seltimestep',
           'selyear': 'seltimestep',
           'setcalendar': 'setdate',
           'setcindexbox': 'setclonlatbox',
           'setclonlatbox': 'setclonlatbox',
           'setcode': 'setcodetab',
           'setcodetab': 'setcodetab',
           'setctomiss': 'setmissval',
           'setdate': 'setdate',
           'setday': 'setdate',
           'setgatt': 'setgatt',
           'setgatts': 'setgatt',
           'setgrid': 'setgrid',
           'setgridarea': 'setgrid',
           'setgridmask': 'setgrid',
           'setgridnumber': 'setgrid',
           'setgridtype': 'setgrid',
           'setgriduri': 'setgrid',
           'sethalo': 'sethalo',
           'setlevel': 'setcodetab',
           'setltype': 'setcodetab',
           'setmisstoc': 'setmissval',
           'setmisstodis': 'setmissval',
           'setmisstonn': 'setmissval',
           'setmissval': 'setmissval',
           'setmon': 'setdate',
           'setname': 'setcodetab',
           'setparam': 'setcodetab',
           'setpartab': 'setcodetab',
           'setreftime': 'setdate',
           'setrtoc': 'setvals',
           'setrtoc2': 'setvals',
           'setrtomiss': 'setmissval',
           'settabnum': 'setcodetab',
           'settaxis': 'setdate',
           'settbounds': 'setdate',
           'settime': 'setdate',
           'settunits': 'setdate',
           'setunit': 'setcodetab',
           'setvals': 'setvals',
           'setvar': 'setcodetab',
           'setvrange': 'setmissval',
           'setyear': 'setdate',
           'setzaxis': 'setzaxis',
           'shifttime': 'setdate',
           'sincos': 'const',
           'smooth': 'smooth',
           'smooth9': 'smooth',
           'sort': 'timsort',
           'splitsel': 'splitsel',
           'stdatm': 'const',
           'strbre': 'strbre',
           'strgal': 'strgal',
           'strwin': 'strwin',
           'subtrend': 'subtrend',
           'temp': 'const',
           'timcor': 'timcor',
           'timcovar': 'timcovar',
           'timpctl': 'timpctl',
           'timselpctl': 'timselpctl',
           'timsort': 'timsort',
           'topo': 'const',
           'tpnhalo': 'sethalo',
           'trend': 'trend',
           'unsetgridmask': 'setgrid',
           'vector': 'vector',
           'wct': 'wct',
           'ydaypctl': 'ydaypctl',
           'ydrunpctl': 'ydrunpctl',
           'yearmonavg': 'yearmonmean',
           'yearmonmean': 'yearmonmean',
           'yearpctl': 'yearpctl',
           'ymonpctl': 'ymonpctl',
           'yseaspctl': 'yseaspctl'}
